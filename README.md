A Flask webcam that streams, records video, and takes a picture with Picamera2 using a Raspi Compute Module 4 with a Waveshare CM4-Nano-C noir camera base board. this is based off of allphasepi's work https://github.com/allphasepi/Webcam/tree/main based off KarasuY's article https://github.com/raspberrypi/picamera2/issues/844

Every instance where cm4 exist in a file path will need to be changed to your pi's user name unless you set it to cm4. 

This has only been tested on RaspberryPi OS legacy Bullseye 32bit.
